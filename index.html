<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decipher Survey Editor</title>

    <!-- ✅ Load React First -->
    <script src="https://unpkg.com/react/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.production.min.js"></script>

    <!-- ✅ Load CodeMirror for Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/xml/xml.min.js"></script>

    <!-- ✅ Load FileSaver for Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <!-- ✅ Ensure React is Fully Loaded Before Loading `editor.js` -->
    <script>
      function loadEditorScript() {
        if (typeof React !== "undefined" && typeof ReactDOM !== "undefined") {
          console.log("✅ React is fully loaded! Now loading editor.js...");
          let script = document.createElement("script");
          script.src = "editor.js";
          document.body.appendChild(script);
        } else {
          console.log("⏳ Waiting for React to load...");
          setTimeout(loadEditorScript, 500); // Retry every 500ms until React is ready
        }
      }
      loadEditorScript(); // Start checking for React
    </script>
</body>
</html>
